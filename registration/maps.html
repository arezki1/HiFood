  <!--https://www.youtube.com/watch?v=keO6egndYrE-->
      <!--map tutorial by Dave Wallace on YouTube-->
      <!-- http://www.w3schools.com/jsref/met_loc_reload.asp -->
      <!-- https://developers.google.com/maps/documentation/javascript/tutorial -->
      <!-- https://developers.google.com/maps/documentation/javascript/tutorial#libraries -->

<!DOCTYPE html>
<html>
    <head>
    <title>Find your way</title>
    
    <meta  name="viewport"content="initial-scale=1.0">
    <meta charset="utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
    <script src="https://maps.googleapis.com/maps/api/js?libraries=places&sensor=false"></script>
    <style>
        
        #map-canvas{
            height:100%;
        }
        
        html,body{
            height:500px;
            margin:0;
            padding:0;
        }
    </style>
    
    </head>
<body>


<div id="map-canvas"></div>

<script>
    var map;
    var markerSearch;
    
  function initialise(location){
      
      var service;
      var currentPosition =new google.maps.LatLng(location.coords.latitude,location.coords.longitude);
      var mapOptions={

          center: currentPosition,
          
          zoom:14,
          mapTypeId: google.maps.MapTypeId.ROADMAP
      };
      
      map=new google.maps.Map(document.getElementById("map-canvas"),
      mapOptions);
      
      var marker = new google.maps.Marker({
         position:currentPosition,
          map: map
        });
        
        var request = {
    location: currentPosition,
    radius: '500',
    types: ['pharmacy']
  };

  service = new google.maps.places.PlacesService(map);
  service.nearbySearch(request, callback);
}

function callback(results, status) {
  if (status == google.maps.places.PlacesServiceStatus.OK) {
    for (var i = 0; i < results.length; i++) {
        
        var marker = new google.maps.Marker({
         position:results[i].geometry.location,
          map: map
        });
      
    }
  }
        
    console.log(results);   
    
     var cityCircle = new google.maps.Circle({
      strokeColor: '#FF0000',
      strokeOpacity: 0.8,
      strokeWeight: 2,
      fillColor: '#0000FF',
      fillOpacity: 0.35,
      map: map,
      center: currentPosition,
      radius: 2000
    });
  }
  
  $(document).ready(function(){
      
      navigator.geolocation.getCurrentPosition(initialise);
  });
    
    
</script>



</body>
</html>
